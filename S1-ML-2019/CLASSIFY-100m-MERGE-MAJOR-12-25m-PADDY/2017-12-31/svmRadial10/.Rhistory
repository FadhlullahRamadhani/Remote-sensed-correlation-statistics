result <- 1
} else {
result <- 2
}
} else {
result <- 1
}
} else {
if (VH<-20) {
result <- 2
} else {
result <- 3
}
}
} else {
result <- 3
}
return(result)
}
analysis <- vector()
for (i_vh in 1:dim(result_survey)[1]) {
VH_MEAN <- result_survey$VH[i_vh]
VH_MEAN_1_ORI <- result_survey$VH_1[i_vh]
diff_VH <- result_survey$diff_VH[i_vh]
DEM <- result_survey$DEM[i_vh]
analysis[i_vh] <-  S1LEEAnalysis(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM)
print(paste(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM,analysis[i_vh],result_survey$ground_v4[i_vh], sep=" | "))
}
analysis <- as.factor(analysis)
allModelsResults_confusionMatrix <- confusionMatrix(result_survey$ground_v4, analysis)
print(allModelsResults_confusionMatrix)
library(rpart)
fit<-rpart(ground_v4 ~ VH + VH_1 + diff_VH + DEM_CAT,data=training)
print(rpart.rules(fit))
prp(fit, box.palette = "Reds", tweak = 1.2)
test_pred <- predict(dtree_fit, newdata = result_survey)
a<- confusionMatrix(test_pred, result_survey$ground_v4)
print(a)
print(rpart.rules(fit))
fit<-rpart(ground_v4 ~ VH + VH_1 + diff_VH + DEM_CAT,data=training)
print(rpart.rules(fit))
prp(fit, box.palette = "Reds", tweak = 1.2)
test_pred <- predict(dtree_fit, newdata = result_survey)
a<- confusionMatrix(test_pred, result_survey$ground_v4)
print(a)
S1LEEAnalysis <- function(VH,VH_1,diff_VH,DEM) {
if (VH< -17) {
if (DEM>9) {
if (VH_1<-19) {
if (VH>=-18) {
result <- 1
} else {
result <- 2
}
} else {
result <- 1
}
} else {
if (VH<-20) {
result <- 2
} else {
result <- 3
}
}
} else {
result <- 3
}
return(result)
}
analysis <- vector()
library(rpart)
fit<-rpart(ground_v4 ~ VH + VH_1 + diff_VH + DEM_CAT,data=training)
print(rpart.rules(fit))
prp(fit, box.palette = "Reds", tweak = 1.2)
test_pred <- predict(dtree_fit, newdata = result_survey)
a<- confusionMatrix(test_pred, result_survey$ground_v4)
print(a)
prp(fit, box.palette = "Reds", tweak = 1.2)
S1LEEAnalysis <- function(VH,VH_1,diff_VH,DEM) {
if (VH< -17) {
if (diff_VH< 1.3) {
if (DEM>9) {
if (VH_1< -19) {
if (VH>= -18) {
if (VH < -17) {
result <- 1
} else {
result <- 2
}
} else {
result <- 2
}
} else {
result <- 1
}
} else {
if (VH<-20) {
result <- 2
} else {
if (diff_VH <- 0.71) {
if (diff_VH>= -1.9) {
result <- 1
} else {
result <- 3
}
} else {
result <- 3
}
}
}
} else {
result <- 2
}
} else {
result <- 3
}
return(result)
}
S1LEEAnalysis <- function(VH,VH_1,diff_VH,DEM) {
if (VH< -17) {
if (diff_VH< 1.3) {
if (DEM>9) {
if (VH_1< -19) {
if (VH>= -18) {
if (VH < -17) {
result <- 1
} else {
result <- 2
}
} else {
result <- 2
}
} else {
result <- 1
}
} else {
if (VH<-20) {
result <- 2
} else {
if (diff_VH <- 0.71) {
if (diff_VH>= -1.9) {
result <- 1
} else {
result <- 3
}
} else {
result <- 3
}
}
}
} else {
result <- 2
}
} else {
result <- 3
}
return(result)
}
analysis <- vector()
for (i_vh in 1:dim(result_survey)[1]) {
VH_MEAN <- result_survey$VH[i_vh]
VH_MEAN_1_ORI <- result_survey$VH_1[i_vh]
diff_VH <- result_survey$diff_VH[i_vh]
DEM <- result_survey$DEM[i_vh]
analysis[i_vh] <-  S1LEEAnalysis(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM)
print(paste(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM,analysis[i_vh],result_survey$ground_v4[i_vh], sep=" | "))
}
analysis <- as.factor(analysis)
allModelsResults_confusionMatrix <- confusionMatrix(result_survey$ground_v4, analysis)
print(allModelsResults_confusionMatrix)
for (i_vh in 1:dim(result_survey)[1]) {
VH_MEAN <- result_survey$VH[i_vh]
VH_MEAN_1_ORI <- result_survey$VH_1[i_vh]
diff_VH <- result_survey$diff_VH[i_vh]
DEM <- result_survey$DEM[i_vh]
analysis[i_vh] <-  S1LEEAnalysis(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM)
print(paste(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM,analysis[i_vh],result_survey$ground_v4[i_vh], sep=" | "))
}
analysis <- as.factor(analysis)
allModelsResults_confusionMatrix <- confusionMatrix(result_survey$ground_v4, analysis)
print(allModelsResults_confusionMatrix)
allModelsList <- c("Phase ~ VH	+ VH_1	+ diff_VH	+ DEM_CAT",
"Phase ~ VH	+ VH_1	+ diff_VH",
"Phase ~ VH	+ VH_1",
"Phase ~ VH	+ diff_VH	+ DEM_CAT",
)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
install.packages("elmNN")
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
gc()
allModelsResults_predictions<- NA
gc()
allModelsResults<- NA
gc()
object.size()
object.size()
list_obj_sizes <- function(list_obj=ls(envir=.GlobalEnv)){ sizes <- sapply(list_obj, function(n) object.size(get(n)), simplify = FALSE) print(sapply(sizes[order(-as.integer(sizes))], function(s) format(s, unit = 'auto'))) }
source('~/.active-rstudio-document', echo=TRUE)
sizes <- sapply(ls(), function(n) object.size(get(n)), simplify = FALSE); print(sapply(sizes[order(as.integer(sizes))], function(s) format(s, unit = 'auto')))
setwd("C:/MasseyOffice1/Research/R-Script2019/")
rm(list=ls())
gc()
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
# index <- sample(1:nrow(VEG), minrows)
# VEG_sample <- VEG[index, ]
# index <- sample(1:nrow(REPR), minrows)
# REPR_sample <- REPR[index, ]
# index <- sample(1:nrow(RIPE), minrows)
# RIPE_sample <- RIPE[index, ]
#
# ML_S1_LEE_2019_v3_sampling_down <- rbind(NR_sample, VEG_sample,REPR_sample,RIPE_sample)
# ML_S1_LEE_2019_v3_sampling_down <-  ML_S1_LEE_2019_v3_sampling_down[sample(1:nrow(ML_S1_LEE_2019_v3_sampling_down)), ]
#ML_S1_LEE_2019_v3_sampling_down <- ML_S1_LEE_2019_v3
rice_fmask <- ML_S1_LEE_2019_v3
trainIndex <- createDataPartition(rice_fmask$Phase, p=0.7, list=FALSE)
train.data <- rice_fmask[ trainIndex,]
test.data <- rice_fmask[-trainIndex,]
rice <-ML_S1_LEE_2019_v3
rice$PHASE <- factor(rice$Phase)
print(summary(rice))
allModelsList <- c("Phase ~ VH	+ VH1	+ VH2	+ diff1 + diff2 + diff3"
)
library(stringr)
NoOfCoef <- str_count(allModelsList,"\\+") + 1
allModelsList
#Leave One Out Cross Validation
name_data='LOOCV'
#model <- names(getModelInfo())
#model_filter <- c('AdaBag','amdai','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
#model_filter <- c('amdai','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
model_filter <- c('rpart','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
model_filter <- c('rpart','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','J48','JRip','kernelpls','kknn','knn','lda','lda2','LMT','LogitBoost','lvq','Mlda','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','pls','rda','rf','RFlda','rpart','rpart1SE','rpart2','rpartScore','rrlda','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','widekernelpls','wsrf')
# model_filter <- c('svmRadial','rf')
#model_filter <- c('rf')
mainDir <- paste("C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3/",collapse = "",sep = "")
if (file.exists(mainDir)==FALSE) {
dir.create(file.path(mainDir), showWarnings = FALSE)
}
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
View(train.data)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
model_other <-  c('nnet','fda','rf','svmLinear','svmPoly','svmRadial')
if (any(model_other == model_ML) ) {
if (preName_current=="noProc") {
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, method=model_ML, metric=metric, trControl=control)
} else {
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
}
} else {
if (preName_current=="noProc") {
allModelsResults <- train(formula_current, data=train.data, method=model_ML, metric=metric, trControl=control)
} else {
allModelsResults <- train(formula_current, data=train.data, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
}
}
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
train.data
rice_fmask <- na.omit(rice_fmask)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
files
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
folder_ori <-  paste("F:/RS_images/S1-DESC-VV-LEE-10m-utm/",sep="")
setwd(file.path(folder_ori))
search_str <- paste("*",region,".*[.]tif$",sep = "")
search_str
search_str <- paste("*",region,".*[.]tif$",sep = "")
files <- sort(list.files(pattern=search_str),decreasing = FALSE)
files
files <- sort(list.files(pattern=search_str),decreasing = FALSE)
band_shp <- paste(mainDir_SHP_PADDY, "/paddy_",region,".shp",sep="")
band_shp <- gsub("/","\\\\\\",band_shp)
temp <- paste(temp, "S1_paddy_",region," = \"",band_shp, "\"\r\n",sep="")
if (length(files)<1) {
next
}
for (band in files) {
file_to <- paste("PADDY_",band,sep="")
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-",file_to)
name_band_to <- paste(folder_to,"/",file_to,sep = "")
tif_ori <- paste(folder_ori, "/",band,sep="")
sizes <- file.size(tif_ori)/(1000*1000)
if (sizes < 200) {
next
}
if (file.exists(name_band_to)==FALSE) {
#print(paste(region,name_band_to,sep="-"))
tif_ori <- gsub("/","\\\\\\",tif_ori)
band_tif  <- gsub("\\.","_",band)
band_tif  <- gsub("-","_",band_tif)
band_tif  <- gsub(".tif","_tif",band_tif)
temp <- paste(temp,"from_",band_tif," = \"",tif_ori, "\"\r\n",sep="")
tif_to <- paste(folder_to, "/",file_to,sep="")
tif_to <- gsub("/","\\\\\\",tif_to)
temp <- paste(temp,"to_", band_tif," = \"",tif_to, "\"\r\n",sep="")
temp <- paste(temp,"print datetime.now().strftime('%Y-%m-%d %H:%M:%S') + ' PADDYBANDS2AGG creating ->  ' + '", band,"'\r\n",sep="")
temp <- paste(temp, "arcpy.gp.ExtractByMask_sa(","from_",band_tif,", ","S1_paddy_", region ,", ","to_", band_tif ,")", "\r\n",sep="")
}
}
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
file_to
file_to <- paste("PADDY_",band,sep="")
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-","",file_to)
file_to
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-","",file_to)
name_band_to <- paste(folder_to,"/",file_to,sep = "")
name_band_to
name_band_to <- paste(folder_to,"/",file_to,sep = "")
tif_ori <- paste(folder_ori, "/",band,sep="")
tif_ori
tif_ori <- paste(folder_ori, "/",band,sep="")
sizes <- file.size(tif_ori)/(1000*1000)
if (sizes < 200) {
next
}
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v3-step2-2019_resample_S3.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
file_to
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v6_WEST.R')
numberofrows
debugSource('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v6_WEST.R')
ML_S1_LEE_2019_v6_WEST_sampling_down
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v6_WEST.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v7_WEST.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v7_WEST.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
folder_clip_paddy <- paste("F:/R-Script-DriveF/ML-PROBA-100-S1-100/CLASSIFY-COMPOSITE-12-25m-PADDY-CD/",collapse = "",sep = "")
period_list <- sort(list.dirs(folder_clip_paddy,full.names = FALSE,recursive = FALSE),
decreasing = FALSE)
period_list
source('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
mainDir_results_S1_csv
debugSource('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
file_csv
file_csv <- list.files(pattern=search_str,path = mainDir_results_S1_csv,full.names = TRUE )
file_csv
search_str <- paste(region,".*",model_ML,"_check.*[.]csv$",sep = "")
mainDir_results_S1_csv <- paste("F:/R-Script-DriveF/S1-ML-2019/CLASSIFY-COMPOSITE-12-25m-PADDY-CD/",period,"/",model_ML,"/",collapse = "",sep = "")
mainDir_results_S1_csv
debugSource('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
file_csv
mainDir_results_S1_csv
source('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1v1.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_resample_S1_25m_v1.R')
period_list_classify
folder_ML_classify_fmask
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_resample_S1_25m_v1.R')
folder_ML_classify_fmask
folder_ML_classify_fmask <-  paste("F:/R-Script-DriveF/S1-ML-2019/CLASSIFY-100m-MERGE-MAJOR-12/",collapse = "",sep = "")
period_list_classify <- sort(list.dirs(folder_ML_classify_fmask,full.names = FALSE,recursive = FALSE),decreasing = FALSE)
period_list_classify
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_resample_S1_25m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_paddysplit_S1_25m_v1.R')
period_list_classify
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_paddysplit_S1_25m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_paddysplit_S1_25m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_paddysplit_S1_25m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_paddysplit_S1_25m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step6-2019_paddysplit_S1_25m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Recap-Change-detection-check_PROBA_S1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
region
folder_ML_classify_S1 <- paste("F:/R-Script-DriveF/S1-ML-2019/CLASSIFY-100m-MERGE-MAJOR-12-25m-PADDY/",collapse = "",sep = "")
period_list_classify <- sort(list.dirs(folder_ML_classify_S1,full.names = FALSE,recursive = FALSE),
decreasing = FALSE)
period_list_classify
#for (int_classify in seq(1, length(period_list_classify), 3)){
period_first<- period_list_classify[int_classify]
if (period_first=="") {
next
}
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
search_str <- paste(region,".*[.]tif$",sep = "")
band_folder <- paste("F:/R-Script-DriveF/S1-ML-2019/CLASSIFY-100m-MERGE-MAJOR-12-25m-PADDY/",period_first,"/",model_ML,"/",collapse = "",sep = "")
band_folder
search_str
band_folder
band_folder <- paste("F:/R-Script-DriveF/S1-ML-2019/CLASSIFY-100m-MERGE-MAJOR-12-25m-PADDY/",period_first,"/",model_ML,"/",collapse = "",sep = "")
if (dir.exists(band_folder)==FALSE){
next
}
setwd(band_folder)
input.rasters.first <- lapply(list.files(pattern=search_str), raster)
if (ncell(input.rasters.first)==0 ) {
next
}
period_prev <- as.character(as.Date(period_first) - time)
if ((period_prev %in% period_list_classify)==FALSE) {
next
}
band_folder
time
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
paddy_raster_df_count
area_ha <-paddy_raster_df_count * res * res / 10000
write.csv(area_ha, file = filename_csv_paddy_cd_reclass_all)
paddy_raster_df <- as.data.frame(raster_reclassify)
paddy_raster_df_count <- table(paddy_raster_df)
area_ha <-paddy_raster_df_count * res * res / 10000
area_ha <-paddy_raster_df_count * 25 * 25 / 10000
write.csv(area_ha, file = filename_csv_paddy_cd_reclass_all)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
folder_clip_paddy <- paste("F:/R-Script-DriveF/S1-ML-2019/CLASSIFY-100m-MERGE-MAJOR-12-25m-PADDY-CD/"=,collapse = "",sep = "")
dir.create(folder_clip_paddy, showWarnings = FALSE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
folder_clip_paddy <- paste("F:/R-Script-DriveF/S1-ML-2019/CLASSIFY-100m-MERGE-MAJOR-12-25m-PADDY-CD/",collapse = "",sep = "")
dir.create(folder_clip_paddy, showWarnings = FALSE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_change_S1_25mv1.R')
