install.packages(raster)
install.packages("raster")
install.packages("canet")
install.packages('caret')
install.packages('readxl')
install.packages("ncdf4")
install.packages("ncdf.tools")
install.packages("ncdump")
debugSource('C:/MasseyOffice1/Research/R-Script2019/TCI_PDF_INDO_SC_PROV3.R')
cmd1 <- paste("C:/OSGeo4W64/bin/gdaldem color-relief  -of GTiff  ",filename_tif_classify_fmask ,"  C:/MasseyOffice1/Research/R-Script2019/COLOR_SC.txt " ,filename_tif_ML_colored , " -alpha",sep="")
system(cmd1)
system(proj.db)
system(open proj.db)
system("proj.db")
shell("proj.db")
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL2.R', echo=TRUE)
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/bin/gdaldem.exe\" color-relief  -of GTiff  ",filename_tif_ML_geo_ALL ,"  C:/MasseyOffice1/Research/R-Script2019/COLOR_SC_TILES.txt " ,filename_tif_ML_colored , " -alpha",sep="")
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL2.R', echo=TRUE)
pulau1<- raster(paste(mainDir_SC_geo_rekap,"/1_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
pulau2<- raster(paste(mainDir_SC_geo_rekap,"/2_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
mosaic1<- merge(pulau1,pulau2,tolerance=10)
pulau1 <-NA
pulau2 <- NA
gc()
pulau6<- raster(paste(mainDir_SC_geo_rekap,"/6_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
mosaic1<- merge(mosaic1,pulau6,tolerance=10)
pulau6 <- NA
gc()
pulau7<- raster(paste(mainDir_SC_geo_rekap,"/7_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
mosaic1<- merge(mosaic1,pulau7,tolerance=10)
pulau7 <- NA
gc()
pulau8<- raster(paste(mainDir_SC_geo_rekap,"/8_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
mosaic1<- merge(mosaic1,pulau8,tolerance=10)
pulau8 <- NA
gc()
pulau9<- raster(paste(mainDir_SC_geo_rekap,"/9_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
mosaic1<- merge(mosaic1,pulau9,tolerance=10)
pulau9 <- NA
gc()
pulau5<- raster(paste(mainDir_SC_geo_rekap,"/5_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
mosaic1<- merge(mosaic1,pulau5,tolerance=10)
pulau5 <- NA
gc()
pulau3<- raster(paste(mainDir_SC_geo_rekap,"/3_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep=""))
mosaic1<- merge(mosaic1,pulau3,tolerance=10)
pulau3 <- NA
filename_tif_ML_geo_ALL <- paste(mainDir_SC_geo_rekap,"/ALL_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep="")
writeRaster(mosaic1,filename_tif_ML_geo_ALL,overwrite=TRUE)
mosaic1 <- NA
gc()
filename_tif_ML_colored <- paste(mainDir_SC_geo_rekap,"/COLORED_ALL_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep="")
if (file.exists(filename_tif_ML_colored)==TRUE) {
file.remove(filename_tif_ML_colored)
}
print("gdaldem")
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/bin/gdaldem.exe\" color-relief  -of GTiff  ",filename_tif_ML_geo_ALL ,"  C:/MasseyOffice1/Research/R-Script2019/COLOR_SC_TILES.txt " ,filename_tif_ML_colored , " -alpha",sep="")
shell(cmd1)
print("tiles")
print("gdaldem")
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/bin/gdaldem.exe\" color-relief  -of GTiff  ",filename_tif_ML_geo_ALL ,"  C:/MasseyOffice1/Research/R-Script2019/COLOR_SC_TILES.txt " ,filename_tif_ML_colored , " -alpha",sep="")
shell(cmd1)
print("tiles")
mainDir_KML_COLORED_PERIOD <- paste(mainDir_SC_geo_rekap,"/KML",sep="")
unlink(mainDir_KML_COLORED_PERIOD, recursive=TRUE, force=TRUE)
dir.create(mainDir_KML_COLORED_PERIOD, showWarnings = FALSE)
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
shell(cmd1)
filespng <- as.data.frame(list.files(mainDir_KML_COLORED_PERIOD,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KML_COLORED_PERIOD, recursive = TRUE, full.names = TRUE)`
filespng$size <- lapply(filespng$filename,file.size)
filespngdelete <- filespng[filespng$size <1024,]
a<- file.remove(filespngdelete$filename)
filename_rar_ML_colored <- paste(mainDir_SC_geo_rekap,"/ALL.rar", sep="")
file.remove(filename_rar_ML_colored)
if (file.exists(filename_rar_ML_colored)==TRUE) {
file.remove(filename_rar_ML_colored)
}
print("rar")
cmd1 <- paste("C:/\"Program Files\"/WinRAR/rar.exe  a -r -ep1 ",filename_rar_ML_colored ," " ,mainDir_KML_COLORED_PERIOD , "/*.*",sep="")
shell(cmd1)
print("upload")
filename_rar_ML_colored2 <- paste0("ALL_",format(Sys.time(), "%Y%b%d"),".rar")
ftpUpload(filename_rar_ML_colored, paste("ftp://sentinel2:ASD123asd@202.78.200.23/kml/standing_crop_S2_kml/",filename_rar_ML_colored2,sep = ""))
rm(list=ls())
gc()
memory.size(max=F)
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
mainDir_KML_COLORED_PERIOD <- paste(mainDir_SC_geo_rekap,"/KML",sep="")
filename_tif_ML_colored
filename_tif_ML_colored <- paste(mainDir_SC_geo_rekap,"/COLORED_ALL_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep="")
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/bin/gdaldem.exe\" color-relief  -of GTiff  ",filename_tif_ML_geo_ALL ,"  C:/MasseyOffice1/Research/R-Script2019/COLOR_SC_TILES.txt " ,filename_tif_ML_colored , " -alpha",sep="")
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
filename_tif_ML_colored <- paste(mainDir_SC_geo_rekap,"/COLORED_ALL_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep="")
mainDir_SC_geo_rekap <- paste("C:/RS_images/S2Pre/SC_GEO_REKAP",sep="")
filename_tif_ML_colored <- paste(mainDir_SC_geo_rekap,"/COLORED_ALL_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep="")
rm(list=ls())
gc()
memory.size(max=F)
rm(list=ls())
gc()
memory.size(max=F)
rm(list=ls(all=TRUE))
gc(reset=TRUE)
library(raster)
library(RCurl)
#idkab<-3206
#idkab <- c(3517,3518,3215,3522,3213,3524,3212)
#idkab <- c(3518,3215,3522,3213,3524,3212,3517)
model_ML <- c('svmRadial5C')
mainDir_SC_geo <- paste("C:/RS_images/S2Pre/SC_GEO",sep="")
mainDir_SC_geo_rekap <- paste("C:/RS_images/S2Pre/SC_GEO_REKAP",sep="")
dir.create(mainDir_SC_geo_rekap, showWarnings = FALSE)
folder_ML_SC <- paste("C:/RS_images/S2Pre/CLASSIFY-MASK-PADDY",collapse = "",sep = "")
list_files_SC <- sort(list.files(pattern = "\\.tif$",path =folder_ML_SC,full.names = FALSE,recursive = TRUE),
decreasing = FALSE)
tanggal1 <- sort(unique(substr(list_files_SC,1,10)),decreasing =  TRUE)
period_last <-tanggal1[1]
idkablistdf_raw <- sort(unique(substr(list_files_SC,24,27)),decreasing =  TRUE)
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
filename_tif_ML_colored <- paste(mainDir_SC_geo_rekap,"/COLORED_ALL_S2_S1v1_classify_geo_",model_ML,"_","noProc",".tif", sep="")
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
mainDir_KML_COLORED_PERIOD <- paste(mainDir_SC_geo_rekap,"/KML",sep="")
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
shell(cmd1)
shell(cmd1)
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
cmd1
cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-12 " ,mainDir_KML_COLORED_PERIOD , " ",sep="")
filespng <- as.data.frame(list.files(mainDir_KML_COLORED_PERIOD,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KML_COLORED_PERIOD, recursive = TRUE, full.names = TRUE)`
filespng$size <- lapply(filespng$filename,file.size)
filespngdelete <- filespng[filespng$size <1024,]
a<- file.remove(filespngdelete$filename)
filename_rar_ML_colored <- paste(mainDir_SC_geo_rekap,"/ALL.rar", sep="")
file.remove(filename_rar_ML_colored)
if (file.exists(filename_rar_ML_colored)==TRUE) {
file.remove(filename_rar_ML_colored)
}
print("rar")
cmd1 <- paste("C:/\"Program Files\"/WinRAR/rar.exe  a -r -ep1 ",filename_rar_ML_colored ," " ,mainDir_KML_COLORED_PERIOD , "/*.*",sep="")
shell(cmd1)
print("upload")
filename_rar_ML_colored2 <- paste0("ALL_",format(Sys.time(), "%Y%b%d"),"_50m.rar")
ftpUpload(filename_rar_ML_colored, paste("ftp://sentinel2:ASD123asd@202.78.200.23/kml/standing_crop_S2_kml/",filename_rar_ML_colored2,sep = ""))
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL2.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL2.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_PULAU1.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL4.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL4.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL4.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/S2_5C_TILES_NASIONAL4.R', echo=TRUE)
mainDir_KATAM_geo <- paste("F:/TILES_KATAM/MK",sep="")
filespng <- as.data.frame(list.files(mainDir_KATAM_geo,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KATAM_geo, recursive = TRUE, full.names = TRUE)`
filespng$size <- lapply(filespng$filename,file.size)
filespngdelete <- filespng[filespng$size <1024,]
a<- file.remove(filespngdelete$filename)
filespng <- as.data.frame(list.files(mainDir_KATAM_geo,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KATAM_geo, recursive = TRUE, full.names = TRUE)`
filespng$size <- lapply(filespng$filename,file.size)
filespngdelete <- filespng[filespng$size <1024,]
a<- file.remove(filespngdelete$filename)
mainDir_KATAM_geo
mainDir_KATAM_geo <- paste("F:/TILES_KATAM/MK-TIFK",sep="")
filespng <- as.data.frame(list.files(mainDir_KATAM_geo,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KATAM_geo, recursive = TRUE, full.names = TRUE)`
mainDir_KATAM_geo <- paste("F:/TILES_KATAM/MK1-TIF",sep="")
filespng <- as.data.frame(list.files(mainDir_KATAM_geo,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KATAM_geo, recursive = TRUE, full.names = TRUE)`
filespng$size <- lapply(filespng$filename,file.size)
filespngdelete <- filespng[filespng$size <1024,]
a<- file.remove(filespngdelete$filename)
# filename_tif_ML_colored <- paste("F:/TILES_KATAM/MK.tif",sep="")
# print("tiles")
#
# unlink(mainDir_KATAM_geo, recursive=TRUE, force=TRUE)
# dir.create(mainDir_KATAM_geo, showWarnings = FALSE)
#
# cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-20 " ,mainDir_KATAM_geo , " ",sep="")
# shell(cmd1)
filespng <- as.data.frame(list.files(mainDir_KATAM_geo,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KATAM_geo, recursive = TRUE, full.names = TRUE)`
filespng$size <- lapply(filespng$filename,file.size)
filespngdelete <- filespng[filespng$size <1024,]
a<- file.remove(filespngdelete$filename)
# filename_tif_ML_colored <- paste("F:/TILES_KATAM/MK.tif",sep="")
# print("tiles")
#
# unlink(mainDir_KATAM_geo, recursive=TRUE, force=TRUE)
# dir.create(mainDir_KATAM_geo, showWarnings = FALSE)
#
# cmd1 <- paste("\"C:/Program Files/QGIS 3.8/OSGeo4W.bat\" \"C:/Program Files/QGIS 3.8/bin/gdal2tilesG.bat\" ",filename_tif_ML_colored ," -s EPSG:4326 -z 2-20 " ,mainDir_KATAM_geo , " ",sep="")
# shell(cmd1)
filespng <- as.data.frame(list.files(mainDir_KATAM_geo,recursive = TRUE,full.names = TRUE), stringsAsFactors=FALSE)
filespng$filename <- filespng$`list.files(mainDir_KATAM_geo, recursive = TRUE, full.names = TRUE)`
filespng$size <- lapply(filespng$filename,file.size)
filespngdelete <- filespng[filespng$size <1024,]
a<- file.remove(filespngdelete$filename)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
source('F:/MasseyOffice1/Research/R-Script2019/C-step1-2019_classify_PROBA_v2.R', echo=TRUE)
period
files
search_str
source('F:/MasseyOffice1/Research/R-Script2019/C-step2-2019_composite_PROBA_100v1.R', echo=TRUE)
