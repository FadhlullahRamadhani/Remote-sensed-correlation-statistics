} else {
if (diff_VH <- 0.71) {
if (diff_VH>= -1.9) {
result <- 1
} else {
result <- 3
}
} else {
result <- 3
}
}
}
} else {
result <- 2
}
} else {
result <- 3
}
return(result)
}
S1LEEAnalysis <- function(VH,VH_1,diff_VH,DEM) {
if (VH< -17) {
if (diff_VH< 1.3) {
if (DEM>9) {
if (VH_1< -19) {
if (VH>= -18) {
if (VH < -17) {
result <- 1
} else {
result <- 2
}
} else {
result <- 2
}
} else {
result <- 1
}
} else {
if (VH<-20) {
result <- 2
} else {
if (diff_VH <- 0.71) {
if (diff_VH>= -1.9) {
result <- 1
} else {
result <- 3
}
} else {
result <- 3
}
}
}
} else {
result <- 2
}
} else {
result <- 3
}
return(result)
}
analysis <- vector()
for (i_vh in 1:dim(result_survey)[1]) {
VH_MEAN <- result_survey$VH[i_vh]
VH_MEAN_1_ORI <- result_survey$VH_1[i_vh]
diff_VH <- result_survey$diff_VH[i_vh]
DEM <- result_survey$DEM[i_vh]
analysis[i_vh] <-  S1LEEAnalysis(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM)
print(paste(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM,analysis[i_vh],result_survey$ground_v4[i_vh], sep=" | "))
}
analysis <- as.factor(analysis)
allModelsResults_confusionMatrix <- confusionMatrix(result_survey$ground_v4, analysis)
print(allModelsResults_confusionMatrix)
for (i_vh in 1:dim(result_survey)[1]) {
VH_MEAN <- result_survey$VH[i_vh]
VH_MEAN_1_ORI <- result_survey$VH_1[i_vh]
diff_VH <- result_survey$diff_VH[i_vh]
DEM <- result_survey$DEM[i_vh]
analysis[i_vh] <-  S1LEEAnalysis(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM)
print(paste(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM,analysis[i_vh],result_survey$ground_v4[i_vh], sep=" | "))
}
analysis <- as.factor(analysis)
allModelsResults_confusionMatrix <- confusionMatrix(result_survey$ground_v4, analysis)
print(allModelsResults_confusionMatrix)
allModelsList <- c("Phase ~ VH	+ VH_1	+ diff_VH	+ DEM_CAT",
"Phase ~ VH	+ VH_1	+ diff_VH",
"Phase ~ VH	+ VH_1",
"Phase ~ VH	+ diff_VH	+ DEM_CAT",
)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
install.packages("elmNN")
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
gc()
allModelsResults_predictions<- NA
gc()
allModelsResults<- NA
gc()
object.size()
object.size()
list_obj_sizes <- function(list_obj=ls(envir=.GlobalEnv)){ sizes <- sapply(list_obj, function(n) object.size(get(n)), simplify = FALSE) print(sapply(sizes[order(-as.integer(sizes))], function(s) format(s, unit = 'auto'))) }
source('~/.active-rstudio-document', echo=TRUE)
sizes <- sapply(ls(), function(n) object.size(get(n)), simplify = FALSE); print(sapply(sizes[order(as.integer(sizes))], function(s) format(s, unit = 'auto')))
setwd("C:/MasseyOffice1/Research/R-Script2019/")
rm(list=ls())
gc()
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
# index <- sample(1:nrow(VEG), minrows)
# VEG_sample <- VEG[index, ]
# index <- sample(1:nrow(REPR), minrows)
# REPR_sample <- REPR[index, ]
# index <- sample(1:nrow(RIPE), minrows)
# RIPE_sample <- RIPE[index, ]
#
# ML_S1_LEE_2019_v3_sampling_down <- rbind(NR_sample, VEG_sample,REPR_sample,RIPE_sample)
# ML_S1_LEE_2019_v3_sampling_down <-  ML_S1_LEE_2019_v3_sampling_down[sample(1:nrow(ML_S1_LEE_2019_v3_sampling_down)), ]
#ML_S1_LEE_2019_v3_sampling_down <- ML_S1_LEE_2019_v3
rice_fmask <- ML_S1_LEE_2019_v3
trainIndex <- createDataPartition(rice_fmask$Phase, p=0.7, list=FALSE)
train.data <- rice_fmask[ trainIndex,]
test.data <- rice_fmask[-trainIndex,]
rice <-ML_S1_LEE_2019_v3
rice$PHASE <- factor(rice$Phase)
print(summary(rice))
allModelsList <- c("Phase ~ VH	+ VH1	+ VH2	+ diff1 + diff2 + diff3"
)
library(stringr)
NoOfCoef <- str_count(allModelsList,"\\+") + 1
allModelsList
#Leave One Out Cross Validation
name_data='LOOCV'
#model <- names(getModelInfo())
#model_filter <- c('AdaBag','amdai','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
#model_filter <- c('amdai','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
model_filter <- c('rpart','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
model_filter <- c('rpart','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','J48','JRip','kernelpls','kknn','knn','lda','lda2','LMT','LogitBoost','lvq','Mlda','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','pls','rda','rf','RFlda','rpart','rpart1SE','rpart2','rpartScore','rrlda','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','widekernelpls','wsrf')
# model_filter <- c('svmRadial','rf')
#model_filter <- c('rf')
mainDir <- paste("C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3/",collapse = "",sep = "")
if (file.exists(mainDir)==FALSE) {
dir.create(file.path(mainDir), showWarnings = FALSE)
}
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
View(train.data)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
model_other <-  c('nnet','fda','rf','svmLinear','svmPoly','svmRadial')
if (any(model_other == model_ML) ) {
if (preName_current=="noProc") {
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, method=model_ML, metric=metric, trControl=control)
} else {
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
}
} else {
if (preName_current=="noProc") {
allModelsResults <- train(formula_current, data=train.data, method=model_ML, metric=metric, trControl=control)
} else {
allModelsResults <- train(formula_current, data=train.data, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
}
}
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
train.data
rice_fmask <- na.omit(rice_fmask)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
files
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
folder_ori <-  paste("F:/RS_images/S1-DESC-VV-LEE-10m-utm/",sep="")
setwd(file.path(folder_ori))
search_str <- paste("*",region,".*[.]tif$",sep = "")
search_str
search_str <- paste("*",region,".*[.]tif$",sep = "")
files <- sort(list.files(pattern=search_str),decreasing = FALSE)
files
files <- sort(list.files(pattern=search_str),decreasing = FALSE)
band_shp <- paste(mainDir_SHP_PADDY, "/paddy_",region,".shp",sep="")
band_shp <- gsub("/","\\\\\\",band_shp)
temp <- paste(temp, "S1_paddy_",region," = \"",band_shp, "\"\r\n",sep="")
if (length(files)<1) {
next
}
for (band in files) {
file_to <- paste("PADDY_",band,sep="")
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-",file_to)
name_band_to <- paste(folder_to,"/",file_to,sep = "")
tif_ori <- paste(folder_ori, "/",band,sep="")
sizes <- file.size(tif_ori)/(1000*1000)
if (sizes < 200) {
next
}
if (file.exists(name_band_to)==FALSE) {
#print(paste(region,name_band_to,sep="-"))
tif_ori <- gsub("/","\\\\\\",tif_ori)
band_tif  <- gsub("\\.","_",band)
band_tif  <- gsub("-","_",band_tif)
band_tif  <- gsub(".tif","_tif",band_tif)
temp <- paste(temp,"from_",band_tif," = \"",tif_ori, "\"\r\n",sep="")
tif_to <- paste(folder_to, "/",file_to,sep="")
tif_to <- gsub("/","\\\\\\",tif_to)
temp <- paste(temp,"to_", band_tif," = \"",tif_to, "\"\r\n",sep="")
temp <- paste(temp,"print datetime.now().strftime('%Y-%m-%d %H:%M:%S') + ' PADDYBANDS2AGG creating ->  ' + '", band,"'\r\n",sep="")
temp <- paste(temp, "arcpy.gp.ExtractByMask_sa(","from_",band_tif,", ","S1_paddy_", region ,", ","to_", band_tif ,")", "\r\n",sep="")
}
}
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
file_to
file_to <- paste("PADDY_",band,sep="")
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-","",file_to)
file_to
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-","",file_to)
name_band_to <- paste(folder_to,"/",file_to,sep = "")
name_band_to
name_band_to <- paste(folder_to,"/",file_to,sep = "")
tif_ori <- paste(folder_ori, "/",band,sep="")
tif_ori
tif_ori <- paste(folder_ori, "/",band,sep="")
sizes <- file.size(tif_ori)/(1000*1000)
if (sizes < 200) {
next
}
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v3-step2-2019_resample_S3.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
file_to
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v4-step2-2019_paddysplit_S3.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v6_WEST.R')
numberofrows
debugSource('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v6_WEST.R')
ML_S1_LEE_2019_v6_WEST_sampling_down
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v6_WEST.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v7_WEST.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v7_WEST.R')
source('C:/MasseyOffice1/Research/R-Script2019/S2_PRE_download3.R')
csv_df
id
if (as.integer(substr(id,1,4)<2018)) {
next
}
print(dim(csv_df)[1])
mainDir_L2A_TIF <- paste("G:/RS_images/S2Pre/L2A-TIF",sep="")
for (i in 1: dim(csv_df)[1]) {
#L2A_T48MWT_20170227T030651
if (csv_df$file_zip[i] == FALSE) {
id <- substring(csv_df$Name[i],12,26)
if (as.integer(substr(id,1,4)<2018)) {
next
}
folder_L2A_TIF <- paste(mainDir_L2A_TIF, "/" , PR, "/L2A_", PR, "_", id  , sep = "")
files <- list.files(pattern = glob2rx(paste("*.tif",sep = "")),path=folder_L2A_TIF)
if (length(files) !=14) {
temp <- paste(temp,"G:\\RS_images\\S2Pre\\aria2c.exe  --auto-file-renaming=false --dir G:\\RS_images\\S2Pre\\zip\\ --http-user=danicool --http-passwd=ASD123asd  ", csv_df$file_download[i], "\n\r",sep=" ")
print (folder_L2A_TIF)
}
}
}
print(dim(csv_df)[1])
mainDir_L2A_TIF <- paste("G:/RS_images/S2Pre/L2A-TIF",sep="")
id
source('C:/Users/framadha/Google Drive/analysis7/analysis1_v12.R')
source('C:/Users/framadha/Google Drive/analysis7/analysis1_v12.R')
source('C:/Users/framadha/Google Drive/analysis7/analysis1_v12.R')
source('C:/Users/framadha/Google Drive/analysis7/analysis1_v12.R')
rm(list=ls())
library(readxl)
library(xlsx)
crops <- read_excel("C:/Users/framadha/Google Drive/analysis7/merge.xlsx")
crops$period1 <- crops$`THN-BLN`
crops$period1
crops$period1 <- crops$`THN-BLN`
recap <- read_excel("C:/Users/framadha/Google Drive/analysis7/recap.xlsx")
area_kec <- read_excel("C:/Users/framadha/Google Drive/analysis7/area_kec.xlsx")
recap_merge <- recap
recap_merge$total <- recap_merge$area_ha_1+ recap_merge$area_ha_2+ recap_merge$area_ha_3 +	recap_merge$area_ha_4	+ recap_merge$area_ha_200	+ recap_merge$area_ha_300	+ recap_merge$area_ha_400	+ recap_merge$area_ha_others
recap_merge$clean <- (1 - (recap_merge$area_ha_others/recap_merge$total)) * 100
recap_merge$period1 <- substr(recap$period,2,8)
recap_merge <- merge(recap_merge,crops,by=c("subdistrict","period1"))
analysis <- crops[,c(1:12)]
analysis <- merge(analysis,area_kec,by=c("subdistrict"))
crops <- read_excel("C:/Users/framadha/Google Drive/analysis7/merge.xlsx")
crops$period1 <- crops$`THN-BLN`
recap <- read_excel("C:/Users/framadha/Google Drive/analysis7/recap.xlsx")
recap_merge$period1
recap_merge$period1
debugSource('C:/Users/framadha/Google Drive/analysis7/analysis2_v1.R')
recap_merge <- merge(recap_merge,crops,by=c("subdistrict","period1"))
analysis <- crops[,c(1:12)]
View(recap_merge)
crops$period1
View(crops)
recap_merge$PROVINSI <- crops$PROVINSI
recap_merge$PROVINSI <- crops$PROVINSI[1]
recap_merge$KABUPATEN <- crops$KABUPATEN[1]
recap_merge$KECAMATAN <- crops$KECAMATAN[1]
View(crops)
recap_merge$PROVINSI <- NA
recap_merge$KABUPATEN <- NA
recap_merge$KECAMATAN <- NA
recap_merge$subdistrict <- NA
recap_merge$TAHUN <- NA
recap_merge$BULAN <- NA
recap_merge$THN_BLN <- NA
recap_merge$Paddy_planting <- NA
recap_merge$Paddy_harvested <- NA
recap_merge$period1
recap_merge <- recap
recap_merge$total <- recap_merge$area_ha_1+ recap_merge$area_ha_2+ recap_merge$area_ha_3 +	recap_merge$area_ha_4	+ recap_merge$area_ha_200	+ recap_merge$area_ha_300	+ recap_merge$area_ha_400	+ recap_merge$area_ha_others
recap_merge$clean <- (1 - (recap_merge$area_ha_others/recap_merge$total)) * 100
recap_merge$period1 <- substr(recap$period,2,8)
recap_merge$PROVINSI <- NA
recap_merge$KABUPATEN <- NA
recap_merge$KECAMATAN <- NA
recap_merge$subdistrict <- NA
recap_merge$TAHUN <- NA
recap_merge$BULAN <- NA
recap_merge$Paddy_planting <- NA
recap_merge$Paddy_harvested <- NA
recap_merge$total <- recap_merge$area_ha_1+ recap_merge$area_ha_2+ recap_merge$area_ha_3 +	recap_merge$area_ha_4	+ recap_merge$area_ha_200	+ recap_merge$area_ha_300	+ recap_merge$area_ha_400	+ recap_merge$area_ha_others
recap_merge$clean <- (1 - (recap_merge$area_ha_others/recap_merge$total)) * 100
recap_merge$period1 <- substr(recap$period,2,8)
recap_merge$PROVINSI <- NA
recap_merge$KABUPATEN <- NA
recap_merge$KECAMATAN <- NA
recap_merge$subdistrict <- NA
recap_merge$TAHUN <- NA
recap_merge$BULAN <- NA
recap_merge$Paddy_planting <- NA
recap_merge$Paddy_harvested <- NA
recap_merge <- recap
recap_merge$total <- recap_merge$area_ha_1+ recap_merge$area_ha_2+ recap_merge$area_ha_3 +	recap_merge$area_ha_4	+ recap_merge$area_ha_200	+ recap_merge$area_ha_300	+ recap_merge$area_ha_400	+ recap_merge$area_ha_others
recap_merge$clean <- (1 - (recap_merge$area_ha_others/recap_merge$total)) * 100
recap_merge$period1 <- substr(recap$period,2,8)
recap_merge$PROVINSI <- NA
recap_merge$KABUPATEN <- NA
recap_merge$KECAMATAN <- NA
recap_merge$TAHUN <- NA
recap_merge$BULAN <- NA
recap_merge$Paddy_planting <- NA
recap_merge$Paddy_harvested <- NA
area_xlsx <- read_excel("C:/Users/framadha/Google Drive/analysis7/area.xlsx")
recap_merge$area_kec
source('C:/Users/framadha/Google Drive/analysis7/analysis2_v1.R')
recap_merge$luas_baku_ha <- NA
source('C:/Users/framadha/Google Drive/analysis7/analysis2_v1.R')
source('C:/Users/framadha/Google Drive/analysis7/analysis2_v1.R')
write.csv(recap_merge, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
source('C:/Users/framadha/Google Drive/analysis7/analysis2_v1.R')
use warnings()
warnings()
source('C:/Users/framadha/Google Drive/analysis7/analysis2_v1.R')
area_kec$subdistrict[j] ) {
area_kec$subdistrict[j]
area_kec <- read_excel("C:/Users/framadha/Google Drive/analysis7/area_kec.xlsx")
recap_merge$area_kec <- NA
for (i in 1:nrow(recap_merge)) {
for (j in 1:nrow(area_xlsx)) {
if (recap_merge$subdistrict[i]==area_kec$subdistrict[j] ) {
recap_merge$area_kec[i] <- area_kec$area_kec[j]
}
}
}
area_kec <- read_excel("C:/Users/framadha/Google Drive/analysis7/area_kec.xlsx")
recap_merge$area_kec <- NA
for (i in 1:nrow(recap_merge)) {
for (j in 1:nrow(area_kec)) {
if (recap_merge$subdistrict[i]==area_kec$subdistrict[j] ) {
recap_merge$area_kec[i] <- area_kec$area_kec[j]
}
}
}
recap_merge$area_factor <- recap_merge$area_kec/recap_merge$luas_baku_ha
write.csv(recap_merge, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
recap_merge$area_factor <- recap_merge$area_kec/recap_merge$luas_baku_ha
recap_merge$area_ha_5 <- NULL
recap_merge$area_ha_200 <- NULL
recap_merge$area_ha_300 <- NULL
recap_merge$area_ha_400 <- NULL
recap_merge$area_ha_others <- NULL
write.csv(recap_merge, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
recap_merge <- recap_merge[recap_merge$TAHUN %in% c("2017","2018"),]
recap_merge <- recap_merge[!recap_merge$period1 %in% c("2018-08","2018-09","2018-10","2018-11","2018-12"),]
write.csv(recap_merge, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
recap_merge
colnames(recap_merge)
names(recap_merge)[names(recap_merge) == "area_ha_1"] <- "BL"
names(recap_merge)[names(recap_merge) == "area_ha_2"] <- "VEG"
names(recap_merge)[names(recap_merge) == "area_ha_3"] <- "REPRO"
names(recap_merge)[names(recap_merge) == "area_ha_4"] <- "RIPE"
write.csv(recap_merge, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
recap_merge1 <- recap_merge[c("PROVINSI","KABUPATEN","KECAMATAN","subdistrict","region",
"period1","BL","VEG","REPRO","RIPE","total","Paddy_planting",
"Paddy_harvested","luas_baku_ha","area_kec","area_factor"),]
write.csv(recap_merge1, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
recap_merge1 <- recap_merge[c("PROVINSI","KABUPATEN","KECAMATAN","subdistrict","region",
"period1","BL","VEG","REPRO","RIPE","total","Paddy_planting",
"Paddy_harvested","luas_baku_ha","area_kec","area_factor"),]
View(recap_merge1)
recap_merge1 <- recap_merge[c("PROVINSI"),]
View(recap_merge1)
recap_merge1 <- recap_merge[1,]
recap_merge1 <- recap_merge[,c("PROVINSI","KABUPATEN","KECAMATAN","subdistrict","region",
"period1","BL","VEG","REPRO","RIPE","total","Paddy_planting",
"Paddy_harvested","luas_baku_ha","area_kec","area_factor")]
View(recap_merge)
View(recap_merge1)
write.csv(recap_merge1, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
View(recap_merge)
recap_merge1 <- recap_merge[,c("PROVINSI","KABUPATEN","KECAMATAN","subdistrict","region","TAHUN","BULAN"
"period1","BL","VEG","REPRO","RIPE","total","Paddy_planting",
"Paddy_harvested","luas_baku_ha","area_kec","area_factor")]
recap_merge1 <- recap_merge[,c("PROVINSI","KABUPATEN","KECAMATAN","subdistrict","region","TAHUN","BULAN",
"period1","BL","VEG","REPRO","RIPE","total","Paddy_planting",
"Paddy_harvested","luas_baku_ha","area_kec","area_factor")]
recap_merge1 <- recap_merge[,c("PROVINSI","KABUPATEN","KECAMATAN","subdistrict","region","TAHUN","BULAN",
"period1","period","BL","VEG","REPRO","RIPE","total","Paddy_planting",
"Paddy_harvested","luas_baku_ha","area_kec","area_factor")]
write.csv(recap_merge1, file = "C:/Users/framadha/Google Drive/analysis7/analysis_area_v12_v2.csv")
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v7_WEST.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v7_WEST.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v7_WEST.R')
