test_pred <- predict(dtree_fit, newdata = result_survey)
a<- confusionMatrix(test_pred, result_survey$ground_v4)
print(a)
prp(fit, box.palette = "Reds", tweak = 1.2)
S1LEEAnalysis <- function(VH,VH_1,diff_VH,DEM) {
if (VH< -17) {
if (diff_VH< 1.3) {
if (DEM>9) {
if (VH_1< -19) {
if (VH>= -18) {
if (VH < -17) {
result <- 1
} else {
result <- 2
}
} else {
result <- 2
}
} else {
result <- 1
}
} else {
if (VH<-20) {
result <- 2
} else {
if (diff_VH <- 0.71) {
if (diff_VH>= -1.9) {
result <- 1
} else {
result <- 3
}
} else {
result <- 3
}
}
}
} else {
result <- 2
}
} else {
result <- 3
}
return(result)
}
S1LEEAnalysis <- function(VH,VH_1,diff_VH,DEM) {
if (VH< -17) {
if (diff_VH< 1.3) {
if (DEM>9) {
if (VH_1< -19) {
if (VH>= -18) {
if (VH < -17) {
result <- 1
} else {
result <- 2
}
} else {
result <- 2
}
} else {
result <- 1
}
} else {
if (VH<-20) {
result <- 2
} else {
if (diff_VH <- 0.71) {
if (diff_VH>= -1.9) {
result <- 1
} else {
result <- 3
}
} else {
result <- 3
}
}
}
} else {
result <- 2
}
} else {
result <- 3
}
return(result)
}
analysis <- vector()
for (i_vh in 1:dim(result_survey)[1]) {
VH_MEAN <- result_survey$VH[i_vh]
VH_MEAN_1_ORI <- result_survey$VH_1[i_vh]
diff_VH <- result_survey$diff_VH[i_vh]
DEM <- result_survey$DEM[i_vh]
analysis[i_vh] <-  S1LEEAnalysis(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM)
print(paste(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM,analysis[i_vh],result_survey$ground_v4[i_vh], sep=" | "))
}
analysis <- as.factor(analysis)
allModelsResults_confusionMatrix <- confusionMatrix(result_survey$ground_v4, analysis)
print(allModelsResults_confusionMatrix)
for (i_vh in 1:dim(result_survey)[1]) {
VH_MEAN <- result_survey$VH[i_vh]
VH_MEAN_1_ORI <- result_survey$VH_1[i_vh]
diff_VH <- result_survey$diff_VH[i_vh]
DEM <- result_survey$DEM[i_vh]
analysis[i_vh] <-  S1LEEAnalysis(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM)
print(paste(VH_MEAN,VH_MEAN_1_ORI,diff_VH,DEM,analysis[i_vh],result_survey$ground_v4[i_vh], sep=" | "))
}
analysis <- as.factor(analysis)
allModelsResults_confusionMatrix <- confusionMatrix(result_survey$ground_v4, analysis)
print(allModelsResults_confusionMatrix)
allModelsList <- c("Phase ~ VH	+ VH_1	+ diff_VH	+ DEM_CAT",
"Phase ~ VH	+ VH_1	+ diff_VH",
"Phase ~ VH	+ VH_1",
"Phase ~ VH	+ diff_VH	+ DEM_CAT",
)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
install.packages("elmNN")
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R')
gc()
allModelsResults_predictions<- NA
gc()
allModelsResults<- NA
gc()
object.size()
object.size()
list_obj_sizes <- function(list_obj=ls(envir=.GlobalEnv)){ sizes <- sapply(list_obj, function(n) object.size(get(n)), simplify = FALSE) print(sapply(sizes[order(-as.integer(sizes))], function(s) format(s, unit = 'auto'))) }
source('~/.active-rstudio-document', echo=TRUE)
sizes <- sapply(ls(), function(n) object.size(get(n)), simplify = FALSE); print(sapply(sizes[order(as.integer(sizes))], function(s) format(s, unit = 'auto')))
setwd("C:/MasseyOffice1/Research/R-Script2019/")
rm(list=ls())
gc()
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v2.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_300m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
# index <- sample(1:nrow(VEG), minrows)
# VEG_sample <- VEG[index, ]
# index <- sample(1:nrow(REPR), minrows)
# REPR_sample <- REPR[index, ]
# index <- sample(1:nrow(RIPE), minrows)
# RIPE_sample <- RIPE[index, ]
#
# ML_S1_LEE_2019_v3_sampling_down <- rbind(NR_sample, VEG_sample,REPR_sample,RIPE_sample)
# ML_S1_LEE_2019_v3_sampling_down <-  ML_S1_LEE_2019_v3_sampling_down[sample(1:nrow(ML_S1_LEE_2019_v3_sampling_down)), ]
#ML_S1_LEE_2019_v3_sampling_down <- ML_S1_LEE_2019_v3
rice_fmask <- ML_S1_LEE_2019_v3
trainIndex <- createDataPartition(rice_fmask$Phase, p=0.7, list=FALSE)
train.data <- rice_fmask[ trainIndex,]
test.data <- rice_fmask[-trainIndex,]
rice <-ML_S1_LEE_2019_v3
rice$PHASE <- factor(rice$Phase)
print(summary(rice))
allModelsList <- c("Phase ~ VH	+ VH1	+ VH2	+ diff1 + diff2 + diff3"
)
library(stringr)
NoOfCoef <- str_count(allModelsList,"\\+") + 1
allModelsList
#Leave One Out Cross Validation
name_data='LOOCV'
#model <- names(getModelInfo())
#model_filter <- c('AdaBag','amdai','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
#model_filter <- c('amdai','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
model_filter <- c('rpart','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstSm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','earth','elm','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','hda','hdda','hdrda','J48','JRip','kernelpls','kknn','knn','lda','lda2','Linda','LMT','loclda','LogitBoost','lvq','mda','Mlda','mlpSGD','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','plr','pls','polr','qda','QdaCov','rda','regLogistic','rf','RFlda','rlda','rmda','rpart','rpart1SE','rpart2','rpartScore','rrlda','RSimca','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','vglmAdjCat','widekernelpls','wsrf')
model_filter <- c('rpart','avNNet','bagFDA','bagFDAGCV','bayesglm','BstLm','bstTree','C5.0','C5.0Rules','C5.0Tree','cforest','CSimca','ctree','ctree2','dnn','fda','gam','gamLoess','gamSpline','gbm','gcvEarth','glmnet','J48','JRip','kernelpls','kknn','knn','lda','lda2','LMT','LogitBoost','lvq','Mlda','monmlp','multinom','naive_bayes','nnet','OneR','ownn','pam','parRF','PART','partDSA','pcaNNet','pda','PenalizedLDA','pls','rda','rf','RFlda','rpart','rpart1SE','rpart2','rpartScore','rrlda','sda','sdwd','simpls','snn','sparseLDA','spls','stepLDA','stepQDA','svmLinear','svmLinear2','svmLinear3','svmPoly','svmRadial','svmRadialCost','svmRadialSigma','treebag','widekernelpls','wsrf')
# model_filter <- c('svmRadial','rf')
#model_filter <- c('rf')
mainDir <- paste("C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3/",collapse = "",sep = "")
if (file.exists(mainDir)==FALSE) {
dir.create(file.path(mainDir), showWarnings = FALSE)
}
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
View(train.data)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
model_other <-  c('nnet','fda','rf','svmLinear','svmPoly','svmRadial')
if (any(model_other == model_ML) ) {
if (preName_current=="noProc") {
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, method=model_ML, metric=metric, trControl=control)
} else {
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
}
} else {
if (preName_current=="noProc") {
allModelsResults <- train(formula_current, data=train.data, method=model_ML, metric=metric, trControl=control)
} else {
allModelsResults <- train(formula_current, data=train.data, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
}
}
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, tuneGrid = TuneGrid, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, method=model_ML, metric=metric, trControl=control)
allModelsResults <- train(formula_current, data=train.data, preProcess = c(preName_current), method=model_ML, metric=metric, trControl=control)
train.data
rice_fmask <- na.omit(rice_fmask)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
files
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_30m1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_aggregate_split_paddy_allres.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v3.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
folder_ori <-  paste("F:/RS_images/S1-DESC-VV-LEE-10m-utm/",sep="")
setwd(file.path(folder_ori))
search_str <- paste("*",region,".*[.]tif$",sep = "")
search_str
search_str <- paste("*",region,".*[.]tif$",sep = "")
files <- sort(list.files(pattern=search_str),decreasing = FALSE)
files
files <- sort(list.files(pattern=search_str),decreasing = FALSE)
band_shp <- paste(mainDir_SHP_PADDY, "/paddy_",region,".shp",sep="")
band_shp <- gsub("/","\\\\\\",band_shp)
temp <- paste(temp, "S1_paddy_",region," = \"",band_shp, "\"\r\n",sep="")
if (length(files)<1) {
next
}
for (band in files) {
file_to <- paste("PADDY_",band,sep="")
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-",file_to)
name_band_to <- paste(folder_to,"/",file_to,sep = "")
tif_ori <- paste(folder_ori, "/",band,sep="")
sizes <- file.size(tif_ori)/(1000*1000)
if (sizes < 200) {
next
}
if (file.exists(name_band_to)==FALSE) {
#print(paste(region,name_band_to,sep="-"))
tif_ori <- gsub("/","\\\\\\",tif_ori)
band_tif  <- gsub("\\.","_",band)
band_tif  <- gsub("-","_",band_tif)
band_tif  <- gsub(".tif","_tif",band_tif)
temp <- paste(temp,"from_",band_tif," = \"",tif_ori, "\"\r\n",sep="")
tif_to <- paste(folder_to, "/",file_to,sep="")
tif_to <- gsub("/","\\\\\\",tif_to)
temp <- paste(temp,"to_", band_tif," = \"",tif_to, "\"\r\n",sep="")
temp <- paste(temp,"print datetime.now().strftime('%Y-%m-%d %H:%M:%S') + ' PADDYBANDS2AGG creating ->  ' + '", band,"'\r\n",sep="")
temp <- paste(temp, "arcpy.gp.ExtractByMask_sa(","from_",band_tif,", ","S1_paddy_", region ,", ","to_", band_tif ,")", "\r\n",sep="")
}
}
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
file_to
file_to <- paste("PADDY_",band,sep="")
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-","",file_to)
file_to
file_to <- gsub("S1-DESC-VV-LEE-10m-utm-","",file_to)
name_band_to <- paste(folder_to,"/",file_to,sep = "")
name_band_to
name_band_to <- paste(folder_to,"/",file_to,sep = "")
tif_ori <- paste(folder_ori, "/",band,sep="")
tif_ori
tif_ori <- paste(folder_ori, "/",band,sep="")
sizes <- file.size(tif_ori)/(1000*1000)
if (sizes < 200) {
next
}
debugSource('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_LEE_split_paddy_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/S1_create_aggregate_LEE_VV1.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v4_EAST.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v5_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_S1_LEE_allresV4_35.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/ML_S1_LEE_2019_v8_EAST_50m.R', echo=TRUE)
source('C:/MasseyOffice1/Research/R-Script2019/recap_ML_S1_2019_v8_EAST_50m.R', echo=TRUE)
help(resample)
??resample
??raster::resample
input.rasters.S1.resample <- resample(input.rasters.S1,input.rasters.PROBA)
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
input.rasters.S1.resample <- resample(input.rasters.S1,input.rasters.PROBA)
input.rasters.S1.resample <- raster::resample(input.rasters.S1,input.rasters.PROBA)
input.rasters.S1
input.rasters.S1
input.rasters.S1
input.rasters.S1_raster <- input.rasters.S1[1]
input.rasters.S1_raster
input.rasters.PROBA_raster <- input.rasters.PROBA[1]
input.rasters.S1.resample <- raster::resample(input.rasters.S1,input.rasters.PROBA)
input.rasters.S1.resample <- raster::resample(input.rasters.S1_raster,input.rasters.PROBA_raster)
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
input.S1_raster
input.S1_raster <- input.S1[[1]]
input.PROBA_raster <- input.PROBA[[1]]
input.S1.resample <- raster::resample(input.S1_raster,input.PROBA_raster)
rast_stack1 <- stack(input.PROBA_raster,input.S1.resample)
fun_raster1 <- function(x) {
if (is.na(x[1])==FALSE) {
if (x[1]>4) {
if (is.na(x[2])==FALSE) {
if (x[2]<=4) {
result <- x[2]
} else {
result <- x[1]
}
} else {
result <- NA
}
} else {
result <- x[1]
}
} else {
result <- NA
}
return(result)
}
raster_COMPOSITE <- calc(rast_stack1, fun_raster1)
plot(raster_COMPOSITE)
rast_stack_time <- stack(input.PROBA_raster,input.S1.resample)
fun_raster_time <- function(x) {
if (is.na(x[1])==FALSE) {
if (x[1]>4) {
#print(paste(x[1],x[2],x[3],x[4]))
if (is.na(x[2])==FALSE) {
if (x[2]<=4) {
result <- 2
} else {
result <- 1
}
} else {
result <- NA
}
} else {
result <- 1
}
} else {
result <- NA
}
return(result)
}
raster_SENSOR <- calc(rast_stack_time, fun_raster_time)
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
int_classify
time
region
print(paste(format(Sys.time(), "%a %b %d %X %Y"),region, int_classify,time,filename_tif_COMPOSITE,sep=" | "))
input.PROBA_raster)
print(paste(format(Sys.time(), "%a %b %d %X %Y"),region, int_classify
int_classify
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
region
writeRaster(raster_COMPOSITE, filename=filename_result_COMPOSITE, format="GTiff", overwrite=TRUE)
print(paste(format(Sys.time(), "%a %b %d %X %Y"),region, int_classify,time,filename_tif_COMPOSITE,sep=" | "))
format(Sys.time(), "%a %b %d %X %Y")
region
int_classify
filename_tif_COMPOSITE
print(paste(format(Sys.time(), "%a %b %d %X %Y"),region, int_classify,time,filename_tif_COMPOSITE,sep=" | "))
print(paste(format(Sys.time(), "%a %b %d %X %Y"),region,time,filename_tif_COMPOSITE,sep=" | "))
filename_tif_COMPOSITE
int_classify
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
input.S1_raster
input.PROBA_raster
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
rast_stack1 <- stack(input.PROBA_raster,input.S1.resample)
fun_raster1 <- function(x) {
if (is.na(x[1])==TRUE) {
result <- x[2]
} else {
if (x[1]>4) {
result <- x[2]
} else {
result <- x[1]
}
}
return(result)
}
raster_COMPOSITE <- calc(rast_stack1, fun_raster1)
plot(raster_COMPOSITE)
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
lplot(input.PROBA_raster)
plot(input.PROBA_raster)
input.PROBA_raster
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
period_list_classify
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
input.PROBA_raster
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
rast_stack1 <- stack(input.PROBA_raster,input.S1.resample)
plot(input.PROBA_raster)
plot(input.S1.resample)
plot(raster_COMPOSITE)
rast_stack1 <- stack(input.PROBA_raster,input.S1.resample)
fun_raster1 <- function(x) {
if (is.na(x[1])==TRUE) {
result <- x[2]
} else {
if (x[1]>4) {
result <- x[2]
} else {
result <- x[1]
}
}
return(result)
}
raster_COMPOSITE <- calc(rast_stack1, fun_raster1)
plot(raster_COMPOSITE)
plot(input.S1.resample)
plot(input.PROBA_raster)
input.S1.resample
input.S1.resample
input.PROBA_raster
input.S1_raster
input.S1_raster
input.S1
list.files(pattern=search_str)
input.PROBA_raster
input.S1_raster
input.PROBA_raster
input.S1_raster
??raster::resample
input.S1.resample
plot(input.S1.resample)
plot(input.S1_raster)
plot(input.PROBA_raster)
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
debugSource('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step5-2019_composite_PROBA_100_S1_100m_v1.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_PROBA_3212_v2.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_PROBA_3212_v2.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_PROBA_3212_v2.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_PROBA_3212_v2.R')
install.packages("DescTools")
library(DescTools)
DecToBin(10)
DecToBin(248)
right = function(text, num_char) {
substr(text, nchar(text) - (num_char-1), nchar(text))
}
right(DecToBin(248))
right(DecToBin(248),2)
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_PROBA_3212_v2.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step1-2019_classify_PROBA_3212_v2.R')
source('C:/MasseyOffice1/Research/R-Script2019/Run-ML-LS8_S2_S1v1-step4-2019_composite_PROBA_3212_100v1.R')
